# 一、什么是数据库（Database）

数据库 = 有组织的数据集合，用来描述现实世界中的某一部分。

例子：

学校里的学生信息

Spotify 里的歌手和专辑

电商里的用户、订单、商品

 数据库不是软件。
# 二、数据库管理系统（DBMS）登场



>它提供：
统一的数据管理
自动保证一致性
并发控制
崩溃恢复
查询优化
什么是数据模型（Data Model）
数据模型是描述数据的方式。

常见模型：

关系模型（最重要、最主流）

键值（Redis）

文档（MongoDB）

图数据库

向量数据库（AI / 搜索）

# 三、关系模型（Relational Model）——数据库的核心思想
你可以把关系模型理解成一句话：

>关系模型规定了：数据长什么样、哪些是合法的、以及你可以怎么操作它。

① 结构（Structure）

数据以“关系（Relation）”的形式存在

关系 ≈ 表（Table）
表里有什么？
| 名词            | 含义     |
| ------------- | ------ |
| 属性（Attribute） | 列      |
| 元组（Tuple）     | 行      |
| 域（Domain）     | 列的数据类型 |

② 约束（Integrity）
主键：表中能唯一标识一行的一个或一组属性（如学号）。主键值不能重复，也不能为空。

外键：一个表中的属性，其值必须匹配另一个表的主键值。这建立了表与表之间的关联。

示例：选课表中有一个学号属性，其值必须存在于学生表的学号中。这保证了不会记录一个不存在的学生的选课信息。

其他约束：如“年龄不能为负数”、“性别只能是‘男’或‘女’”。
③ 操作（Manipulation）

这是关系模型最革命性的地方：

你只说“要什么”，不说“怎么做”

也就是：

声明式（Declarative）

而不是过程式（Procedural）

这正是 SQL 和关系代数的基础。

**关系模型的核心贡献与价值**

关系模型之所以能统治数据库领域数十年，源于它解决了一个根本性问题：

实现了数据独立性。

在关系模型出现之前，应用程序的逻辑和数据的物理存储方式（如数据在磁盘上如何排列、如何查找）是紧密耦合的。改变存储结构，程序就必须重写。

# 四、关系代数（Relational Algebra）——数据库“怎么想”
>关系代数是一种形式化的查询语言，用一组以“关系”为输入、输出的运算来描述查询逻辑。

**为什么一定要学关系代数？**

SQL = 给人看的

关系代数 = 给数据库看的

**关系代数的基本算子**
① 选择（Selection，σ）【筛行】
定义
从关系中选出满足条件的元组
形式
```css
σ 条件 (R)
```
条件可以是：
比较：=, ≠, >, <
逻辑：∧（AND）, ∨（OR）, ¬（NOT）
例子
```bash
σ country = 'USA' ∧ debut_year > 1990 (Artist)
```
SQL 对应
```sql
SELECT *
FROM Artist
WHERE country = 'USA' AND debut_year > 1990;
```
② 投影（Projection，π）【选列】
定义
从关系中选出指定的属性
形式
```css
π A1, A2, ..., An (R)
```
例子
```bash
π name, debut_year (Artist)
```
SQL
```sql
SELECT name, debut_year FROM Artist;
```
③ 并（Union，∪）
定义
属于 R 或 S 的元组
形式
```css
R ∪ S
```
前提
R 和 S 属性完全相同
SQL
```sql
SELECT * FROM R
UNION
SELECT * FROM S;
```
④ 交（Intersection，∩）
定义
同时属于 R 和 S 的元组
```bash
R ∩ S
```
⑤ 差（Difference，−）
定义
属于 R 但不属于 S 的元组
```css
R − S
```

⑥ 笛卡尔积（Product，×）
定义
所有可能的组合
```css
R × S
```
结果规模
```bash
|R| × |S|
```
SQL
```sql
SELECT * FROM R, S;
```

⑦ 连接（Join，⋈）
最重要的算子
定义（自然连接）
对所有同名属性值相等的元组进行组合
```bash
R ⋈ S
```
本质
```bash
R ⋈ S ≡ σ R.a = S.a (R × S)
```

SQL
```sql
SELECT *
FROM R JOIN S
ON R.a = S.a;
```
# 五、其他数据模型（简单了解）
**文档模型（Document）**

JSON 格式

灵活但约束弱

容易出现“扁平文件”的老问题

**向量模型（Vector）**

用于 AI / 语义搜索

查“最相似”的向量

现在很多关系型数据库也支持（如 pgvector）
